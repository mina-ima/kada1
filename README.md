# 年齢・和暦・勤続年数計算ツール (v2.0.1)

## 概要

このアプリケーションは、生年月日や入社日を元に、年齢、勤続年数、定年退職日などを計算・表示するツールです。
和暦・西暦の相互変換にも対応しています。

## 主な機能

### v1: 年齢・和暦計算
- 生年月日と基準日から、年齢・西暦・和暦を計算します。

### v2: 勤続年数・退職関連計算
- **勤続年数:** 入社日と基準日から、勤続期間を2種類の方法（実計算／退職所得用の満年数）で算出します。
- **定年までの期間:** 4種類のルール（誕生日、誕生月末、年度末、任意日）から定年退職日と残りの期間を計算します。
- **退職所得（簡易版）:** 勤続年数（満年数）と退職金額から、退職所得控除額と課税対象の退職所得を簡易計算します。

## 使い方

このアプリケーションはタブ形式で構成されており、すべての入力は「年齢・和暦」タブで行います。入力された値はリアルタイムで計算され、他のタブにも自動的に反映されます。

1.  **「年齢・和暦」タブで入力:**
    *   **生年月日:** 最初の入力フィールドに生年月日を入力します。和暦（例: `R1/5/1`, `S45.12.3`）または西暦（例: `1990/01/01`）の形式で入力できます。
    *   **入社日:** 勤続年数計算に必要な場合に入力します。
    *   **基準日（任意）:** 基準日を入力します。未入力の場合、自動的に今日の日本時間が基準日として使用されます。未来の日付が入力された場合も、今日の日付に自動調整されます。
    *   **定年年齢、定年ルール、指定月:** 定年計算に必要な場合に入力します。
2.  **他のタブで結果を確認:**
    *   **「勤続年数」タブ:** 入社日と基準日に基づく勤続年数を確認できます。
    *   **「定年まで」タブ:** 生年月日、定年年齢、定年ルールに基づく定年退職日と残りの期間を確認できます。
    *   **「退職所得」タブ:** 勤続年数と退職金額に基づく退職所得控除額と課税退職所得金額を確認できます。

## 仕様

詳細な要件定義については、[requirements.md](requirements.md) を参照してください。

### 入力形式
*   **西暦:** `yyyy/m/d` (`-`, `.`, スペースも許容)
*   **和暦:** 略号 (`S`, `H`, `R`) + 数字のみ。`元年` は `1年` と同義。`/`, `-`, `.`, スペースを区切り文字として許容。ゼロ埋めも可能（例: `R01/05/01`）。

### 出力形式
*   **西暦:** `YYYY年M月D日` (例: `1990年1月1日`)
*   **和暦:** `元号元年M月D日` または `元号N年M月D日` (例: `令和元年5月1日`, `平成31年4月30日`)
*   **年齢:** `N歳`

### 元号境界
*   **昭和:** 1926-12-25 ～ 1989-01-07
*   **平成:** 1989-01-08 ～ 2019-04-30
*   **令和:** 2019-05-01 ～（現在）

### データ連携
*   「年齢・和暦」タブで入力された生年月日、入社日、基準日、定年年齢、定年ルール、指定月は、アプリケーション全体で共有されます。
*   これらの入力値は、他のタブの計算に自動的に反映されます。

## 既知の制限

*   **元号の範囲:** 昭和、平成、令和のみに対応しています。大正、明治などの元号はサポートしていません。

## 開発

### 環境構築

```bash
npm install
```

### 開発サーバーの起動

```bash
npm run dev
```

### ビルド

```bash
npm run build
```

### テスト

```bash
npm test
```